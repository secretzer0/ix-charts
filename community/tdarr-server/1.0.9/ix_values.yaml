image:
  repository: ghcr.io/haveagitgat/tdarr
  pullPolicy: IfNotPresent
  tag: 2.51.03

service:
  tdarr-server:
    enabled: true
    primary: true
    type: NodePort
    ports:
      webui:
        port: 30265
        nodePort: 30265
        targetPort: 8265
        primary: true
      server:
        port: 30266
        nodePort: 30266
        targetPort: 8266

workload:
  tdarr-server:
    enabled: true
    primary: true
    type: Deployment
    podSpec:
      hostNetwork: false
      containers:
        tdarr-server:
          enabled: true
          primary: true
          imageSelector: image
          securityContext:
            runAsNonRoot: false
            runAsUser: 0
            runAsGroup: 0
            readOnlyRootFilesystem: false
            capabilities:
              add:
                - CHOWN
                - FOWNER
                - SETUID
                - SETGID
          envFrom:
            - configMapRef:
                name: tdarr-server-config
          probes:
            liveness:
              enabled: true
              type: http
              path: /api/v2/status
              port: 8265
            readiness:
              enabled: true
              type: http
              path: /api/v2/status
              port: 8265
            startup:
              enabled: true
              type: http
              path: /api/v2/status
              port: 8265

tdarrConfig:
  serverIP: 0.0.0.0
  webUIPort: 8265
  serverPort: 8266
  internalNode: false
  nodeName: "InternalNode"
  ffmpegVersion: 7
  additionalEnvs: []

tdarrID:
  user: 568
  group: 568

tdarrNetwork:
  webPort: 30265
  serverPort: 30266

# Core Storage - Required volumes
tdarrStorage:
  server:
    type: ixVolume
    mountPath: /app/server
    ixVolumeConfig:
      datasetName: server
  configs:
    type: ixVolume
    mountPath: /app/configs
    ixVolumeConfig:
      datasetName: configs
  logs:
    type: ixVolume
    mountPath: /app/logs
    ixVolumeConfig:
      datasetName: logs
  temp:
    type: hostPath
    mountPath: /temp
    hostPathConfig:
      hostPath: /mnt/Pool0/Transcode/cache

  # Media Libraries - Set to your actual media paths
  mediaMovies:
    enabled: true
    type: hostPath
    mountPath: /media/Movies
    hostPathConfig:
      hostPath: /mnt/Pool0/Media/Movies

  mediaTV:
    enabled: true
    type: hostPath
    mountPath: /media/TV
    hostPathConfig:
      hostPath: /mnt/Pool0/Media/TV

  # Transcode Storage - Your Pool0 transcode paths
  transcodeMovies:
    enabled: true
    type: hostPath
    mountPath: /transcode/Movies
    hostPathConfig:
      hostPath: /mnt/Pool0/Transcode/Movies

  transcodeTV:
    enabled: true
    type: hostPath
    mountPath: /transcode/TV
    hostPathConfig:
      hostPath: /mnt/Pool0/Transcode/TV

  # Plugin Storage - Optional mounts for custom plugins/templates
  pluginsLocal:
    enabled: true
    type: hostPath
    mountPath: /app/server/Tdarr/Plugins/Local
    hostPathConfig:
      hostPath: /mnt/Pool0/Transcode/plugins/Local

  pluginsFlow:
    enabled: false
    type: hostPath
    mountPath: /app/server/Tdarr/Plugins/FlowPlugins/LocalFlowPlugins
    hostPathConfig:
      hostPath: /mnt/Pool0/Transcode/plugins/LocalFlowPlugins

  pluginsFlowTemplates:
    enabled: false
    type: hostPath
    mountPath: /app/server/Tdarr/Plugins/FlowPlugins/LocalFlowTemplates
    hostPathConfig:
      hostPath: /mnt/Pool0/Transcode/plugins/LocalFlowTemplates

  # Additional Storage - Empty by default
  additionalStorages: []

tdarrGPU: {}

resources:
  limits:
    cpu: 4000m
    memory: 8Gi
